<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:m="http://code.google.com/p/gmaps4jsf/">



<ui:composition template="_template.xhtml">
	<ui:define name="title">
		Med Finder SP
	</ui:define>
	<ui:define name="content">

		<h:form id="form">
			<div id="features-wrapper">
				<div class="container">
					<div class="row">
						<div class="4u">

							<!-- Box -->
							<section class="box box-feature">

							<div class="inner">
								<header>
								<h4>Busca de Consult√≥rios</h4>
								</header>
								<div>
									<h:outputLabel value="Bairro : " for="filtroBairro"
										styleClass="desc" />
								</div>
								<div>
									<p:inputText id="filtroBairro" size="60"
										styleClass="field text fn" tabindex="3" style="width: 150px;" />
								</div>
								<div>
									<h:outputLabel value="Operadora : " for="filtroOperadora"
										styleClass="desc" />
								</div>
								<div>
									<p:selectOneMenu id="filtroOperadora"
										converter="ConversorOperadora"
										styleClass="field select medium" value="#{homeBean.operadora}">
										<p:ajax listener="#{homeBean.listaPlanosAjax}"
											update="filtroPlano" process="@this" />
										<f:selectItem id="default" itemLabel="Selecione"
											itemValue="Selecione" />
										<f:selectItems value="#{homeBean.operadoras}" var="o"
											itemValue="#{o}" itemLabel="#{o.ds_operadora}" />
									</p:selectOneMenu>
								</div>
								<div>
									<h:outputLabel value="Plano : " for="filtroPlano"
										styleClass="desc" />
								</div>
								<div>
									<p:selectOneMenu id="filtroPlano" value="#{homeBean.plano}"
										converter="ConversorPlano" styleClass="field select medium"
										tabindex="1">
										<f:selectItem id="planoDefault" itemLabel="Selecione"
											itemValue="0" />
										<f:selectItems value="#{homeBean.planos}" var="p"
											itemValue="#{p.id_plano}" itemLabel="#{p.ds_plano}" />

									</p:selectOneMenu>
								</div>

								<div>
									<h:outputLabel value="Especialidade : " for="filtroEspecialidade" styleClass="desc" />
								</div>

								<div>
									<p:selectOneMenu id="filtroEspecialidade"
										value="#{buscaMedicoMB.especialidade}"
										converter="ConversorEspecialidade"
										styleClass="field select medium" tabindex="1">
										<f:selectItem id="especialidadeDefault" itemLabel="Selecione"
											itemValue="0" />
										<f:selectItems value="#{buscaMedicoMB.especialidades}" var="e"
											itemValue="#{e}" itemLabel="#{e.ds_especialidade}" />

									</p:selectOneMenu>

								</div>

								<div class="margin_top">
									<p:commandButton value="Filtrar" />
								</div>

							</div>
							</section>

						</div>
						<div class="4u">

							<!-- Box -->
							<section class="box box-feature" style="width: 700px;">

							<div class="inner">

								<m:map width="650px" latitude="-23.55306353918853"
									longitude="-46.634509453704815" height="400px" zoom="13"
									autoReshape="true">


									<ui:repeat var="loc" value="#{locs}">
										<m:marker latitude="#{loc.latitude}"
											longitude="#{loc.longitude}">
											<m:htmlInformationWindow
												htmlText="&lt;b&gt;#{loc.latitude}-#{loc.longitude}&lt;/b&gt;" />
										</m:marker>
									</ui:repeat>
								</m:map>

							</div>
							</section>

						</div>

					</div>
				</div>
			</div>
		</h:form>



	</ui:define>
</ui:composition>
</html>